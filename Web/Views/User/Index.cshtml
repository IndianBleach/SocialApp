@using WebUi.Models.UserViewModel;
@using ApplicationCore.DTOs;
@using ApplicationCore.Entities.UserEntity;
@model ProfileIndexViewModel;

@{
    ViewData["Title"] = "Найти единомышленников";
}

@{
    string avatar = @User.Claims.Where(x => x.Type.Equals("UserAvatarName")).Select(x => x.Value).SingleOrDefault();
} 

<div class="d-none position-fixed top-0" id="hideBackgroundWrapper">
      <div
        style="margin-top: 6rem;"
        class="position-fixed col-12 d-flex justify-content-center"
      >
        <div id="checkOutContainer">
          <div class="d-flex position-relative">
            
            <!--New Idea-->
            <div id="newIdeaWindow" class="d-none rounded">
              <div
                class="b-bottom d-flex p-2 ps-3 col-12 align-items-center justify-content-between"
              >
                <span class="clr-white t-md">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="19"
                    height="19"
                    fill="currentColor"
                    class="me-1 clr-mute bi bi-lightbulb"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1z"
                    />
                  </svg>
                  Создать идею
                </span>
                <button
                  class="closeNewIdeaWindowBtn btn btn-sm bg-transparent clr-white"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    fill="currentColor"
                    class="bi bi-x"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                    />
                  </svg>
                </button>
              </div>
              <div class="col-12 p-4">
                <div class="text-center pt-3 pb-4">
                  <img
                    src="~/media/userAvatars/@avatar"
                    height="44"
                    width="44"
                    class="b-all box-shadow rounded-circle"
                  />
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="40"
                    height="40"
                    fill="currentColor"
                    class="ms-1 clr-white bi bi-lightbulb"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1z"
                    />
                  </svg>
                </div>
                <div class="mt-2 col-12 d-flex justify-content-center">
                  <form id="asyncNewIdeaForm" class="col-10">
                    <div class="col-12 mb-2">
                      <input
                        type="text"
                        class="form-control"
                        id="floatingInput"
                      />
                      <label class="pt-1 t-sm clr-mute" for="floatingInput">
                        Придумайте название
                      </label>
                    </div>
                    <div class="col-12 mb-3">
                      <textarea
                        style="height: 82px; resize: none !important;"
                        type="text"
                        class="form-control"
                        id="floatingInput"
                      ></textarea>
                      <label class="pt-1 t-sm clr-mute" for="floatingInput">
                        Дайте краткое описание своей идее
                      </label>
                    </div>
                    <div class="mb-3 form-check d-flex align-items-center">
                      <input
                        class="bg-darklight form-check-input"
                        type="checkbox"
                        value=""
                        id="flexCheckChecked"
                      />
                      <span class="g-status-text">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="26"
                          height="26"
                          fill="currentColor"
                          class="clr-mute ms-1 me-1 bi bi-lock"
                          viewBox="0 0 16 16"
                        >
                          <path
                            d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zM5 8h6a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1z"
                          />
                        </svg>
                      </span>
                      <div>
                        <label
                          class="t-sm clr-mute t-med form-check-label"
                          for="flexCheckChecked"
                        >
                          Секретная идея
                        </label>
                        <p class="mb-0 t-sm text-muted">
                          Заявки по приглашениям, ограничен просмотр
                        </p>
                      </div>
                    </div>
                    <div id="choiceNewIdeaTags" class="d-flex flex-wrap">
                      @foreach(var tag in Model.Tags)
                      {
                        <button data-tag="@tag.Guid" class="async-newidea-tag btn-tag">
                        @tag.Name
                        </button>
                      }          
                    </div>
                    <hr class="clr-mute" />
                    <div class="mb-3 text-center">
                      <span class="pb-2 t-lg clr-white"
                        >Вы выбрали (
                        <span id="selectedNewIdeaTagsCount">0</span> / 5 )
                      </span>
                      <div class="mt-2" id="selectedNewIdeaTags"></div>
                    </div>
                    <button type="submit" class="mt-4 icon-link-btn">
                      Создать идею
                    </button>
                  </form>
                </div>
              </div>
            </div>
            <!---->

            <!--Friends-->
            <div id="friendsWindow" class="d-none rounded">
              <div
                class="b-bottom d-flex p-2 ps-3 col-12 align-items-center justify-content-between"
              >
                <span class="clr-white t-md">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="19"
                    height="19"
                    fill="currentColor"
                    class="bi clr-mute bi-people"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"
                    />
                  </svg>
                  Друзья
                </span>
                <button
                  class="closeFriendsWindowBtn btn btn-sm bg-transparent clr-white"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    fill="currentColor"
                    class="bi bi-x"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                    />
                  </svg>
                </button>
              </div>
              <div class="col-12 p-4">
                <form class="col-12 flex-form-dark">
                  <div class="col-10 form-floating">
                    <input
                      type="text"
                      class="form-control"
                      id="floatingInput"
                      placeholder="Поиск по имени"
                    />
                    <label class="text-dark" for="floatingInput"
                      >Поиск по имени</label
                    >
                  </div>
                  <button class="clr-mute btn bg-transparent">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-search"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
                      />
                    </svg>
                  </button>
                </form>
                <div class="mt-1 d-flex justify-content-around">
                  <button
                    id="toFriendsWindowBtn"
                    class="clr-mute btn-full-link btn-unfocus btn bg-transparent btn-link-active"
                  >
                    Друзья
                  </button>
                  @if (Model.IsSelfProfile)
                  {
                  <button
                    id="toFriendRequestsWindowBtn"
                    class="clr-mute btn-full-link btn-unfocus btn bg-transparent"
                  >
                    Заявки
                  </button>
                  }
                </div>
                <div class="mt-2 col-12">
                  <section>
                    <div class="pt-1 custom-scroll" id="friendsWindowLoad">
                      <div
                        id="friendsWindowLoadPrev"
                        class="d-none d-flex justify-content-center h-100 align-items-center"
                      >
                        <div class="pt-4 spinner-border clr-mute" role="status">
                          <span class="sr-only"></span>
                        </div>
                      </div>
                    </div>
                  </section>
                  @if (Model.IsSelfProfile)
                  {
                  <section>
                    <div
                      class="d-none pt-1 custom-scroll"
                      id="friendRequestsWindowLoad"
                    >
                      <div
                        id="friendRequestsWindowLoadPrev"
                        class="d-none d-flex justify-content-center h-100 align-items-center"
                      >
                        <div class="pt-4 spinner-border clr-mute" role="status">
                          <span class="sr-only"></span>
                        </div>
                      </div>
                    </div>
                  </section>
                  }
                </div>
              </div>
            </div>
            <!---->

          </div>
        </div>
      </div>
</div>
    <!---->
@if (Model.IsAuthorized)
{
    <!---->
    <nav class="z-1 navbar fixed-top navbar-expand-lg navbar-dark bg-black b-bottom">
        <div class="container container-micro pe-5">
        <a class="navbar-brand me-2" href="#">
          <img src="#" alt="" width="36" />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Переключатель навигации"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <form class="flex-form-dark circle-flex-search">
            <input
              class="t-md form-control me-2"
              type="search"
              placeholder="Найти идею"
              aria-label="Найти идею"
            />
            <button class="btn btn-unfocus" type="submit">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="clr-mute bi bi-search"
                viewBox="0 0 16 16"
              >
                <path
                  d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
                />
              </svg>
            </button>
          </form>
          <ul
            style="align-items: center;"
            class="navbar-nav ms-auto mb-2 mb-lg-0 pe-4"
          >
            <li class="nav-item">
              <a class="nav-link" href="#">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="22"
                  height="22"
                  fill="currentColor"
                  class="bi bi-house"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"
                  />
                  <path
                    fill-rule="evenodd"
                    d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"
                  />
                </svg>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="22"
                  height="22"
                  fill="currentColor"
                  class="bi bi-people"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"
                  />
                </svg>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="22"
                  height="22"
                  fill="currentColor"
                  class="bi bi-chat"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"
                  />
                </svg>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="22"
                  height="22"
                  fill="currentColor"
                  class="bi bi-lightbulb"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1z"
                  />
                </svg>
              </a>
            </li>
            <li class="me-3 nav-item">
              <button class="showNewIdeaWindowBtn btn bg-transparent p-1 m-0 nav-link">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="22"
                  height="22"
                  fill="currentColor"
                  class="bi bi-patch-plus"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M8 5.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V10a.5.5 0 0 1-1 0V8.5H6a.5.5 0 0 1 0-1h1.5V6a.5.5 0 0 1 .5-.5z"
                  />
                  <path
                    d="m10.273 2.513-.921-.944.715-.698.622.637.89-.011a2.89 2.89 0 0 1 2.924 2.924l-.01.89.636.622a2.89 2.89 0 0 1 0 4.134l-.637.622.011.89a2.89 2.89 0 0 1-2.924 2.924l-.89-.01-.622.636a2.89 2.89 0 0 1-4.134 0l-.622-.637-.89.011a2.89 2.89 0 0 1-2.924-2.924l.01-.89-.636-.622a2.89 2.89 0 0 1 0-4.134l.637-.622-.011-.89a2.89 2.89 0 0 1 2.924-2.924l.89.01.622-.636a2.89 2.89 0 0 1 4.134 0l-.715.698a1.89 1.89 0 0 0-2.704 0l-.92.944-1.32-.016a1.89 1.89 0 0 0-1.911 1.912l.016 1.318-.944.921a1.89 1.89 0 0 0 0 2.704l.944.92-.016 1.32a1.89 1.89 0 0 0 1.912 1.911l1.318-.016.921.944a1.89 1.89 0 0 0 2.704 0l.92-.944 1.32.016a1.89 1.89 0 0 0 1.911-1.912l-.016-1.318.944-.921a1.89 1.89 0 0 0 0-2.704l-.944-.92.016-1.32a1.89 1.89 0 0 0-1.912-1.911l-1.318.016z"
                  />
                </svg>
              </button>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                <img src="~/media/userAvatars/@avatar" height="33" class="rounded-circle" />
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!---->
} 
else 
{
    <nav>
      <div
        class="col-12 d-flex position-fixed align-items-center justify-content-center"
        style="
          z-index: 10;
          height: 100px;
          top: 0 !important;
          background: rgba(0, 0, 0, 0.81);
        "
      >
        <div class="d-flex align-items-center">
          <img height="55" src="#" />
          <div class="ps-2">
            <h1 class="t-brand mb-0">Roundile</h1>
          </div>
        </div>
        <div class="ms-3">
          <form class="flex-form-dark">
            <div>
              <input class="form-control" placeholder="Search" />
            </div>
            <button class="clr-mute btn bg-transparent">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-search"
                viewBox="0 0 16 16"
              >
                <path
                  d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
                />
              </svg>
            </button>
          </form>
        </div>
        <div class="ps-4 d-flex">
          <a class="t-nav-link me-3">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="26"
              height="26"
              fill="currentColor"
              class="tbi bi-lightbulb"
              viewBox="0 0 16 16"
            >
              <path
                d="M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1z"
              />
            </svg>
          </a>
          <a class="me-3 t-nav-link">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="26"
              height="26"
              fill="currentColor"
              class="bi bi-people"
              viewBox="0 0 16 16"
            >
              <path
                d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"
              />
            </svg>
          </a>
          <a class="me-3 t-nav-link">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="23"
              height="23"
              fill="currentColor"
              class="bi bi-info-circle"
              viewBox="0 0 16 16"
            >
              <path
                d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
              />
              <path
                d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"
              />
            </svg>
          </a>
        </div>
        <div class="ps-4">
          <button class="async-open-login icon-link-btn">
            Присоединиться
          </button>
        </div>
      </div>
    </nav>
}

<div class="container-sm d-flex" style="margin-top: 140px;">
    @if (Model.User != null)
    {
        <div id="asideAdaptiveContainer" class="position-relative">
            <aside>
              <div class="position-relative">
                <div style="width: 320px;" class="position-fixed">
                  <section>
                    <div class="pt-3 pb-3 text-center">
                      <img
                        src="../media/userAvatars/@Model.User.AvatarImageName"
                        height="228"
                        width="228"
                        class="rounded-circle"
                      />
                    </div>
                    <div class="text-center ps-5 pe-5">
                      <h1 class="t-xl t-med pb-2 pt-2">@Model.User.Name</h1>
                      @if (Model.IsAuthorized)
                      {
                      <nav class="mb-3 col-12 d-flex justify-content-center">
                        <div class="col-10">
                          @if (!Model.IsSelfProfile)
                          {
                            <div class="col-12">
                            <a class="t-md t-smbold clr-mute hover-white"
                              >Написать</a
                            >
                            <hr class="col-12 clr-mute mt-2 mb-2" />
                          </div>
                          <div class="col-12">
                            <button
                              class="btn bg-transparent btn-unfocus pb-0 showInviteWindowBtn t-md t-smbold clr-mute hover-white"
                            >
                              Пригласить
                            </button>
                            <hr class="clr-mute mt-2 mb-2" />
                          </div>
                          <div class="col-12">
                            
                              @switch (Model.FriendType)
                              {
                                case ProfileFriendshipType.Accept:
                                    <button class="btn bg-transparent btn-unfocus t-md t-smbold clr-mute hover-white"
                                      >Удалить из друзей</button
                                    >                            
                                    break;

                                case ProfileFriendshipType.Request:
                                    <button disabled class="disabled btn bg-transparent btn-unfocus t-md t-smbold text-muted hover-white"
                                      >Запрос отправлен</button
                                    >                            
                                    break;

                                case ProfileFriendshipType.NotFriends:
                                    <button data-guid="@Model.User.UserId" class="asyncSendFriendBtn btn bg-transparent btn-unfocus t-md t-smbold clr-mute hover-white"
                                      >Добавить в друзья</button
                                    >                            
                                    break;
                              }
                            
                          </div>
                          }
                          else
                          {
                          <div class="col-12">
                            <form asp-action="signout" asp-controller="account" method="post">
                                <button type="submit" class="btn bg-transparent btn-unfocus t-md t-smbold clr-mute hover-white"
                                  >Выйти из аккаунта</button
                                >  
                            </form>
                            <hr class="col-12 clr-mute mt-2 mb-2" />
                          </div>
                          }
                        </div>
                      </nav>
                      } 
                      <p class="mb-3 text-center t-sm clr-mute">
                        @Model.User.Description
                      </p>
                      <div
                        class="mt-2 col-12 d-flex flex-wrap justify-content-center"
                      >
                        @foreach(var tag in Model.User.Tags)
                        {
                            <div class="me-1 mb-1 btn-tag">
                              @tag
                            </div>
                        }                                       
                      </div>
                    </div>
                  </section>
                </div>
              </div>
            </aside>
    </div>
    <div class="smooth-scroll-wrapper col">
            <div class="content">
              <section>
                <div class="col-12 d-flex">
                  <div class="col ps-4">
                    <section>
                      <div class="pt-5 col-12 pb-4">
                        <nav class="pb-2">
                          <a class="me-2 section-link section-link-active">Идеи</a>
                          <a data-guid="@Model.User.UserId" class="showFriendsWindowBtn me-2 section-link">
                            Друзья
                          </a>
                          <a class="me-2 section-link">Настройки</a>
                        </nav>
                      </div>
                    </section>
                    <main>
                      @foreach(var item in Model.Ideas)
                      {
                      <div class="idea-home-post mb-5 container-slide text-center">
                        <div
                          class="idea-img-slide idea-home-post d-flex align-items-end"
                          style="
                            background: linear-gradient(
                                0deg,
                                rgba(0, 0, 0, 0.51),
                                rgba(0, 0, 0, 0.41)
                              ),
                              url(../media/ideaAvatars/@item.AvatarName);
                          "
                        >
                          <div class="p-3 text-start col-12">
                            <a>
                              <h3 class="mb-0 t-idea-slide-md">
                                @item.Name
                              </h3>
                              <p class="t-shadow t-smbold clr-mute">
                                @item.Description
                              </p>
                            </a>
                            <div class="col-12 d-flex align-items-end">
                              <form class="">
                                <div class="pt-5 d-flex">
                              
                                  @{
                                    int leftPadding = 0;

                                    @foreach(var react in item.Reactions)
                                    {
                                    string styleLine = $"height: 56px; left: {leftPadding}px;";

                                    <div
                                    style="@styleLine"
                                    class="reaction-wrap position-relative"
                                  >
                                    <button
                                        data-idea="@item.Guid"
                                      data-react="@react.Guid"
                                      class="async-reaction-btn position-absolute me-2 btn-reaction"
                                    >
                                      @react.Value
                                      <span>@react.Count</span>
                                    </button>
                                  </div>

                                    leftPadding = leftPadding + 90;
                                    }                                
                                  }
                              
                                </div>
                              </form>
                              <div class="ms-auto pb-2">
                                <button
                                  data-idea="@item.Guid"
                                  class="showRepostWindowBtn btn bg-transparent clr-mute"
                                >
                                  <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="33"
                                    height="33"
                                    fill="currentColor"
                                    class="bi bi-reply"
                                    viewBox="0 0 16 16"
                                  >
                                    <path
                                      d="M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z"
                                    />
                                  </svg>
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="mt-1 d-flex col-12">
                          <span class="pe-3 clr-mute">
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="16"
                              height="16"
                              fill="currentColor"
                              class="me-1 bi bi-book"
                              viewBox="0 0 16 16"
                            >
                              <path
                                d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"
                              />
                            </svg>
                            @item.CountTopics
                          </span>
                          <span class="pe-3 clr-mute">
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="16"
                              height="16"
                              fill="currentColor"
                              class="bi bi-box"
                              viewBox="0 0 16 16"
                            >
                              <path
                                d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"
                              />
                            </svg>
                            @item.CountGoals
                          </span>
                          <span class="ms-auto pe-3 clr-mute">
                            @item.DateUpdated
                          </span>
                        </div>
                      </div>
                      }

                      <div class="mt-3 d-flex">
                        @foreach(var pageInfo in Model.Pages)
                        {
                            <div class="me-1">
                                @if (pageInfo.IsActive)
                                {
                                    <a disabled asp-action="@Model.User.UserId" asp-controller="user" asp-route-page="@pageInfo.NumberValue" class="disabled me-1 btn btn-page btn-page-activer">
                                        @pageInfo.NumberValue
                                    </a>
                                }
                                else
                                {
                                    <a asp-action="@Model.User.UserId" asp-controller="user" asp-route-page="@pageInfo.NumberValue" class="me-1 btn btn-page">
                                        @pageInfo.NumberValue
                                    </a>                    
                                }
                            </div>
                        }                
                      </div>
                    </main>
                    <!---->

                  </div>
                </div>
              </section>
            </div>
    </div>    
    }
</div>